import{d as e,u as t,s as l,r as a,w as i,h as s,a as p,b as d,G as n,N as o,U as r,C as u,q as v,t as g,j as y,O as x,F as c,z as m,B as h,o as f,V as b}from"./chunk-Bmj9xSPk.js";import{u as w,t as k}from"./chunk-CvLE_cZp.js";const B={class:"p-3 mb-4 border rounded-lg border-base-300 bg-base-100/50",style:{"margin-bottom":"3px","margin-top":"-15px"}},T={style:{display:"flex","flex-wrap":"wrap",gap:"50px"}},U={style:{display:"flex","align-items":"flex-start",width:"calc(33.333% - 33.333px)"}},z={style:{width:"340px","padding-left":"25px"}},P={key:0,style:{display:"block"}},V={style:{display:"flex","align-items":"flex-start",width:"calc(33.333% - 33.333px)"}},C={style:{width:"340px","padding-left":"25px"}},G=["value"],I={style:{display:"flex","align-items":"flex-start",width:"calc(33.333% - 33.333px)"}},M={style:{width:"340px","padding-left":"25px"}},N={style:{"margin-top":"4px","font-size":"12px",color:"#6b7280"}},j={key:0,style:{display:"block"}},A={style:{display:"flex","align-items":"flex-start",width:"calc(33.333% - 33.333px)"}},O={style:{width:"340px","padding-left":"25px"}},S=["value"],D={style:{"margin-top":"4px","font-size":"12px",color:"#6b7280"}},L={key:0,style:{display:"block"}},R={class:"p-3 mb-4 border rounded-lg border-base-300 bg-base-100/50",style:{"margin-bottom":"3px","margin-top":"-15px"}},q={style:{display:"flex","flex-wrap":"wrap",gap:"50px"}},E={style:{display:"flex","align-items":"flex-start",width:"calc(33.333% - 33.333px)"}},F={style:{width:"340px","padding-left":"25px"}},J={style:{display:"flex","align-items":"flex-start",width:"calc(33.333% - 33.333px)"}},_={style:{width:"340px","padding-left":"25px"}},$=["value"],H={style:{display:"flex","align-items":"flex-start",width:"calc(33.333% - 33.333px)"}},K={style:{width:"340px","padding-left":"25px"}},Q={style:{display:"flex","align-items":"flex-start",width:"calc(33.333% - 33.333px)"}},W={style:{width:"340px","padding-left":"25px"}},X={style:{"margin-top":"4px","font-size":"12px",color:"#6b7280"}},Y=e({__name:"FaceConfig",setup(e){const{t:Y}=t(),Z=w().globalConfig,ee=w().personConfig;w().prizeConfig;const{getTopTitle:te,getTitleStyle:le,getTheme:ae,getBackground:ie,getImageList:se,getBackgroundType:pe,getGalleryImageMode:de,getGlowingBallEffect:ne,getDrawPerRound:oe}=l(Z),{getAllPersonList:re,getAlreadyPersonList:ue}=l(ee);a();const ve=a(ae.value.name),ge=a(te.value),ye=a(JSON.parse(JSON.stringify(le.value))),xe=a(pe.value),ce=a(Object.keys(b)),me=a(b),he=a(ie.value),fe=a(de.value),be=a(ne.value),we=a(re.value.length),ke=a(oe.value||5),Be=a(1),Te=a(ke.value);function Ue(){let e=Te.value;e<1?e=1:e>10&&(e=10),Te.value=e,ke.value=e,Z.setDrawPerRound(e)}i(ge,e=>{Z.setTopTitle(e)}),i(ye,e=>{Z.setTitleStyle(e)},{deep:!0}),i(ve,e=>{const t=me.value[e];Z.setTheme({name:e,detail:t}),k(e)},{deep:!0}),i(he,e=>{Z.setBackground(e)}),i(xe,e=>{Z.setBackgroundType(e)}),i(fe,e=>{Z.setGalleryImageMode(e)}),i(be,e=>{Z.setGlowingBallEffect(e)}),i(ke,e=>{Z.setDrawPerRound(e)}),i(oe,e=>{e!==ke.value&&(ke.value=e,Te.value=e)});const ze=a(0);function Pe(){alert("配置已保存成功！")}return i([we,ke],()=>{ke.value>0&&(ze.value=Math.ceil(we.value/ke.value))},{immediate:!0}),i([Be,ze],()=>{Be.value>ze.value&&(Be.value=ze.value),Be.value<1&&(Be.value=1)}),s(()=>{}),(e,t)=>{return f(),p("div",null,[d("div",{style:{display:"flex","align-items":"center","margin-bottom":"16px"}},[t[6]||(t[6]=d("h2",{style:{margin:"0","padding-right":"50px"}},"初始化配置",-1)),d("button",{class:"btn btn-primary btn-sm",style:{height:"42px",width:"150px"},onClick:Pe}," 保存配置 ")]),d("div",B,[t[11]||(t[11]=d("h3",{class:"mb-3 text-md font-bold"},"抽奖配置",-1)),d("div",T,[d("div",U,[t[7]||(t[7]=d("div",{style:{width:"140px","padding-top":"8px","text-align":"right"}},[d("label",{style:{"font-weight":"500"}},[n("参与部门 :"),d("span",{style:{color:"#ef4444"}},"*")])],-1)),d("div",z,[o(d("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>ge.value=e),type:"text",placeholder:"例如: 软件开发部",style:{width:"100%"},class:u(["input input-bordered input-primary input-sm",{"input-error":!ge.value}]),required:""},null,2),[[r,ge.value]]),d("div",{style:{"margin-top":"4px","font-size":"12px"},class:u(ge.value?"text-base-content/70":"text-error")},[n(" 显示标题: "+g((l=ge.value,l&&""!==l.trim()?`ABU NPI 团队2025年尾牙抽奖活动 - ${l}`:"ABU NPI 团队2025年尾牙抽奖活动"))+" ",1),ge.value?v("",!0):(f(),p("span",P,"请填写参与部门"))],2)])]),d("div",V,[t[8]||(t[8]=d("div",{style:{width:"140px","padding-top":"8px","text-align":"right"}},[d("label",{style:{"font-weight":"500"}},[n("总人数 :"),d("span",{style:{color:"#ef4444"}},"*")])],-1)),d("div",C,[d("input",{value:we.value,type:"number",readonly:"",style:{width:"100%"},class:u(["input input-bordered input-primary input-sm",{"input-error":0===we.value}])},null,10,G),d("div",{style:{"margin-top":"4px","font-size":"12px"},class:u(we.value>0?"text-base-content/70":"text-error")}," 共 "+g(we.value)+" 人参与抽奖 ",3)])]),d("div",I,[t[9]||(t[9]=d("div",{style:{width:"140px","padding-top":"8px","text-align":"right"}},[d("label",{style:{"font-weight":"500"}},[n("每次抽 :"),d("span",{style:{color:"#ef4444"}},"*")])],-1)),d("div",M,[o(d("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>Te.value=e),type:"number",min:"1",max:"10",style:{width:"100%"},class:"input input-bordered input-primary input-sm",onBlur:Ue},null,544),[[r,Te.value,void 0,{number:!0}]]),d("div",N,[n(" 每轮抽取 "+g(ke.value)+" 人（限制：1-10人） ",1),we.value>0?(f(),p("span",j," 共 "+g(ze.value)+" 场 ",1)):v("",!0)])])]),d("div",A,[t[10]||(t[10]=d("div",{style:{width:"140px","padding-top":"8px","text-align":"right"}},[d("label",{style:{"font-weight":"500"}},"剩余人数 :")],-1)),d("div",O,[d("input",{value:Math.max(0,we.value-y(ue).length),type:"number",readonly:"",style:{width:"100%"},class:"input input-bordered input-primary input-sm"},null,8,S),d("div",D,[n(" 还有 "+g(Math.max(0,we.value-y(ue).length))+" 人待抽取 ",1),y(ue).length>0?(f(),p("span",L," 已抽取 "+g(y(ue).length)+" 人 ",1)):v("",!0)])])])])]),d("div",R,[t[20]||(t[20]=d("h3",{class:"mb-3 text-md font-bold"},"界面配置",-1)),d("div",q,[d("div",E,[t[13]||(t[13]=d("div",{style:{width:"140px","padding-top":"8px","text-align":"right"}},[d("label",{style:{"font-weight":"500"}},"标题样式 :")],-1)),d("div",F,[o(d("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>ye.value.effect=e),style:{width:"100%"},class:"select select-bordered select-primary select-sm"},[...t[12]||(t[12]=[d("option",{disabled:"",selected:""},"选择标题样式",-1),d("option",{value:"neon-purple"},"霓虹紫色",-1),d("option",{value:"default"},"默认样式",-1),d("option",{value:"gold"},"金色样式",-1)])],512),[[x,ye.value.effect]])])]),d("div",J,[t[15]||(t[15]=d("div",{style:{width:"140px","padding-top":"8px","text-align":"right"}},[d("label",{style:{"font-weight":"500"}},"主题 :")],-1)),d("div",_,[o(d("select",{"onUpdate:modelValue":t[3]||(t[3]=e=>ve.value=e),"data-choose-theme":"",style:{width:"100%"},class:"select select-bordered select-primary select-sm"},[t[14]||(t[14]=d("option",{disabled:"",selected:""},"选择主题",-1)),(f(!0),p(c,null,m(ce.value,(e,t)=>(f(),p("option",{key:t,value:e},g(e),9,$))),128))],512),[[x,ve.value]])])]),d("div",H,[t[17]||(t[17]=d("div",{style:{width:"140px","padding-top":"8px","text-align":"right"}},[d("label",{style:{"font-weight":"500"}},"背景类型 :")],-1)),d("div",K,[o(d("select",{"onUpdate:modelValue":t[4]||(t[4]=e=>xe.value=e),"data-choose-theme":"",style:{width:"100%"},class:"select select-bordered select-primary select-sm"},[...t[16]||(t[16]=[h('<option disabled selected>选择背景类型</option><option value="neon">霓虹星空</option><option value="parallax">视差星空</option><option value="glory">荣耀盛典</option><option value="none">无背景</option>',5)])],512),[[x,xe.value]])])]),d("div",Q,[t[19]||(t[19]=d("div",{style:{width:"140px","padding-top":"8px","text-align":"right"}},[d("label",{style:{"font-weight":"500"}},"图片模式 :")],-1)),d("div",W,[o(d("select",{"onUpdate:modelValue":t[5]||(t[5]=e=>fe.value=e),style:{width:"100%"},class:"select select-bordered select-primary select-sm"},[...t[18]||(t[18]=[d("option",{disabled:"",selected:""},"选择图片模式",-1),d("option",{value:"preset"},"预设图片",-1),d("option",{value:"gold-card"},"金色卡片",-1)])],512),[[x,fe.value]]),d("div",X,["preset"===fe.value?(f(),p(c,{key:0},[n(" 使用预设图片作为滚动墙背景 ")],64)):"gold-card"===fe.value?(f(),p(c,{key:1},[n(" 使用金色卡片作为滚动墙背景 ")],64)):v("",!0)])])])])])]);var l}}});export{Y as default};
