import{a6 as e,r as t,w as l,o as a,W as i,X as s,a2 as p,bL as n,bB as d,aD as o,U as r,bg as u,u as c,bA as v,F as g,b0 as y,a1 as x,aS as m}from"./chunk-CuUUEVgY.js";import{u as h,t as f}from"./chunk-Dal6fL2O.js";import{d as b}from"./chunk-T1cRhSFL.js";import{s as w}from"./chunk-vv8T6d3M.js";import{u as k}from"./chunk-CIRXpJyU.js";/* empty css              */import"./chunk-CZH_E4qY.js";import"./chunk-jVKjNuRY.js";import"./chunk-BYM7fZuu.js";import"./chunk-DUzMzk5W.js";import"./chunk-BcwQrg-K.js";import"./chunk-DOLF-9o1.js";import"./chunk-CwkjfrOa.js";import"./chunk-rd0oqKqK.js";import"./chunk-ChzSki6g.js";import"./chunk-DHt_odDz.js";import"./chunk-Dcea1vLA.js";const j={class:"p-3 mb-4 border rounded-lg border-base-300 bg-base-100/50",style:{"margin-bottom":"3px","margin-top":"-15px"}},B={style:{display:"flex","flex-wrap":"wrap",gap:"50px"}},T={style:{display:"flex","align-items":"flex-start",width:"calc(33.333% - 33.333px)"}},U={style:{width:"340px","padding-left":"25px"}},P={key:0,style:{display:"block"}},z={style:{display:"flex","align-items":"flex-start",width:"calc(33.333% - 33.333px)"}},V={style:{width:"340px","padding-left":"25px"}},A=["value"],C={style:{display:"flex","align-items":"flex-start",width:"calc(33.333% - 33.333px)"}},I={style:{width:"340px","padding-left":"25px"}},M={style:{"margin-top":"4px","font-size":"12px",color:"#6b7280"}},S={key:0,style:{display:"block"}},D={style:{display:"flex","align-items":"flex-start",width:"calc(33.333% - 33.333px)"}},G={style:{width:"340px","padding-left":"25px"}},L=["value"],N={style:{"margin-top":"4px","font-size":"12px",color:"#6b7280"}},O={key:0,style:{display:"block"}},R={class:"p-3 mb-4 border rounded-lg border-base-300 bg-base-100/50",style:{"margin-bottom":"3px","margin-top":"-15px"}},q={style:{display:"flex","flex-wrap":"wrap",gap:"50px"}},E={style:{display:"flex","align-items":"flex-start",width:"calc(33.333% - 33.333px)"}},F={style:{width:"340px","padding-left":"25px"}},J={style:{display:"flex","align-items":"flex-start",width:"calc(33.333% - 33.333px)"}},_={style:{width:"340px","padding-left":"25px"}},W=["value"],X={style:{display:"flex","align-items":"flex-start",width:"calc(33.333% - 33.333px)"}},$={style:{width:"340px","padding-left":"25px"}},H={style:{display:"flex","align-items":"flex-start",width:"calc(33.333% - 33.333px)"}},K={style:{width:"340px","padding-left":"25px"}},Q={style:{"margin-top":"4px","font-size":"12px",color:"#6b7280"}},Y=e({__name:"FaceConfig",setup(e){const{t:Y}=k(),Z=h().globalConfig,ee=h().personConfig;h().prizeConfig;const{getTopTitle:te,getTitleStyle:le,getTheme:ae,getBackground:ie,getImageList:se,getBackgroundType:pe,getGalleryImageMode:ne,getGlowingBallEffect:de,getDrawPerRound:oe}=w(Z),{getAllPersonList:re,getAlreadyPersonList:ue}=w(ee);t();const ce=t(ae.value.name),ve=t(te.value),ge=t(JSON.parse(JSON.stringify(le.value))),ye=t(pe.value),xe=t(Object.keys(b)),me=t(b),he=t(ie.value),fe=t(ne.value),be=t(de.value),we=t(re.value.length),ke=t(oe.value||5),je=t(1),Be=t(ke.value);function Te(){let e=Be.value;e<1?e=1:e>10&&(e=10),Be.value=e,ke.value=e,Z.setDrawPerRound(e)}l(ve,e=>{Z.setTopTitle(e)}),l(ge,e=>{Z.setTitleStyle(e)},{deep:!0}),l(ce,e=>{const t=me.value[e];Z.setTheme({name:e,detail:t}),f(e)},{deep:!0}),l(he,e=>{Z.setBackground(e)}),l(ye,e=>{Z.setBackgroundType(e)}),l(fe,e=>{Z.setGalleryImageMode(e)}),l(be,e=>{Z.setGlowingBallEffect(e)}),l(ke,e=>{Z.setDrawPerRound(e)}),l(oe,e=>{e!==ke.value&&(ke.value=e,Be.value=e)});const Ue=t(0);function Pe(){alert("配置已保存成功！")}return l([we,ke],()=>{ke.value>0&&(Ue.value=Math.ceil(we.value/ke.value))},{immediate:!0}),l([je,Ue],()=>{je.value>Ue.value&&(je.value=Ue.value),je.value<1&&(je.value=1)}),a(()=>{}),(e,t)=>{return m(),i("div",null,[s("div",{style:{display:"flex","align-items":"center","margin-bottom":"16px"}},[t[6]||(t[6]=s("h2",{style:{margin:"0","padding-right":"50px"}},"初始化配置",-1)),s("button",{class:"btn btn-primary btn-sm",style:{height:"42px",width:"150px"},onClick:Pe}," 保存配置 ")]),s("div",j,[t[11]||(t[11]=s("h3",{class:"mb-3 text-md font-bold"},"抽奖配置",-1)),s("div",B,[s("div",T,[t[7]||(t[7]=s("div",{style:{width:"140px","padding-top":"8px","text-align":"right"}},[s("label",{style:{"font-weight":"500"}},[p("参与部门 :"),s("span",{style:{color:"#ef4444"}},"*")])],-1)),s("div",U,[n(s("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>ve.value=e),type:"text",placeholder:"例如: 软件开发部",style:{width:"100%"},class:o(["input input-bordered input-primary input-sm",{"input-error":!ve.value}]),required:""},null,2),[[d,ve.value]]),s("div",{style:{"margin-top":"4px","font-size":"12px"},class:o(ve.value?"text-base-content/70":"text-error")},[p(" 显示标题: "+u((l=ve.value,l&&""!==l.trim()?`ABU NPI 团队2025年尾牙抽奖活动 - ${l}`:"ABU NPI 团队2025年尾牙抽奖活动"))+" ",1),ve.value?r("",!0):(m(),i("span",P,"请填写参与部门"))],2)])]),s("div",z,[t[8]||(t[8]=s("div",{style:{width:"140px","padding-top":"8px","text-align":"right"}},[s("label",{style:{"font-weight":"500"}},[p("总人数 :"),s("span",{style:{color:"#ef4444"}},"*")])],-1)),s("div",V,[s("input",{value:we.value,type:"number",readonly:"",style:{width:"100%"},class:o(["input input-bordered input-primary input-sm",{"input-error":0===we.value}])},null,10,A),s("div",{style:{"margin-top":"4px","font-size":"12px"},class:o(we.value>0?"text-base-content/70":"text-error")}," 共 "+u(we.value)+" 人参与抽奖 ",3)])]),s("div",C,[t[9]||(t[9]=s("div",{style:{width:"140px","padding-top":"8px","text-align":"right"}},[s("label",{style:{"font-weight":"500"}},[p("每次抽 :"),s("span",{style:{color:"#ef4444"}},"*")])],-1)),s("div",I,[n(s("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>Be.value=e),type:"number",min:"1",max:"10",style:{width:"100%"},class:"input input-bordered input-primary input-sm",onBlur:Te},null,544),[[d,Be.value,void 0,{number:!0}]]),s("div",M,[p(" 每轮抽取 "+u(ke.value)+" 人（限制：1-10人） ",1),we.value>0?(m(),i("span",S," 共 "+u(Ue.value)+" 场 ",1)):r("",!0)])])]),s("div",D,[t[10]||(t[10]=s("div",{style:{width:"140px","padding-top":"8px","text-align":"right"}},[s("label",{style:{"font-weight":"500"}},"剩余人数 :")],-1)),s("div",G,[s("input",{value:Math.max(0,we.value-c(ue).length),type:"number",readonly:"",style:{width:"100%"},class:"input input-bordered input-primary input-sm"},null,8,L),s("div",N,[p(" 还有 "+u(Math.max(0,we.value-c(ue).length))+" 人待抽取 ",1),c(ue).length>0?(m(),i("span",O," 已抽取 "+u(c(ue).length)+" 人 ",1)):r("",!0)])])])])]),s("div",R,[t[20]||(t[20]=s("h3",{class:"mb-3 text-md font-bold"},"界面配置",-1)),s("div",q,[s("div",E,[t[13]||(t[13]=s("div",{style:{width:"140px","padding-top":"8px","text-align":"right"}},[s("label",{style:{"font-weight":"500"}},"标题样式 :")],-1)),s("div",F,[n(s("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>ge.value.effect=e),style:{width:"100%"},class:"select select-bordered select-primary select-sm"},[...t[12]||(t[12]=[s("option",{disabled:"",selected:""},"选择标题样式",-1),s("option",{value:"neon-purple"},"霓虹紫色",-1),s("option",{value:"default"},"默认样式",-1),s("option",{value:"gold"},"金色样式",-1)])],512),[[v,ge.value.effect]])])]),s("div",J,[t[15]||(t[15]=s("div",{style:{width:"140px","padding-top":"8px","text-align":"right"}},[s("label",{style:{"font-weight":"500"}},"主题 :")],-1)),s("div",_,[n(s("select",{"onUpdate:modelValue":t[3]||(t[3]=e=>ce.value=e),"data-choose-theme":"",style:{width:"100%"},class:"select select-bordered select-primary select-sm"},[t[14]||(t[14]=s("option",{disabled:"",selected:""},"选择主题",-1)),(m(!0),i(g,null,y(xe.value,(e,t)=>(m(),i("option",{key:t,value:e},u(e),9,W))),128))],512),[[v,ce.value]])])]),s("div",X,[t[17]||(t[17]=s("div",{style:{width:"140px","padding-top":"8px","text-align":"right"}},[s("label",{style:{"font-weight":"500"}},"背景类型 :")],-1)),s("div",$,[n(s("select",{"onUpdate:modelValue":t[4]||(t[4]=e=>ye.value=e),"data-choose-theme":"",style:{width:"100%"},class:"select select-bordered select-primary select-sm"},[...t[16]||(t[16]=[x('<option disabled selected>选择背景类型</option><option value="neon">霓虹星空</option><option value="parallax">视差星空</option><option value="glory">荣耀盛典</option><option value="none">无背景</option>',5)])],512),[[v,ye.value]])])]),s("div",H,[t[19]||(t[19]=s("div",{style:{width:"140px","padding-top":"8px","text-align":"right"}},[s("label",{style:{"font-weight":"500"}},"图片模式 :")],-1)),s("div",K,[n(s("select",{"onUpdate:modelValue":t[5]||(t[5]=e=>fe.value=e),style:{width:"100%"},class:"select select-bordered select-primary select-sm"},[...t[18]||(t[18]=[s("option",{disabled:"",selected:""},"选择图片模式",-1),s("option",{value:"preset"},"预设图片",-1),s("option",{value:"gold-card"},"金色卡片",-1)])],512),[[v,fe.value]]),s("div",Q,["preset"===fe.value?(m(),i(g,{key:0},[p(" 使用预设图片作为滚动墙背景 ")],64)):"gold-card"===fe.value?(m(),i(g,{key:1},[p(" 使用金色卡片作为滚动墙背景 ")],64)):r("",!0)])])])])])]);var l}}});export{Y as default};
